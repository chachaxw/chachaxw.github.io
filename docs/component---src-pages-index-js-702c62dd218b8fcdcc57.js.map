{"version":3,"file":"component---src-pages-index-js-702c62dd218b8fcdcc57.js","mappings":"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","sources":["webpack://my-gatsby-site/./node_modules/charming/index.js","webpack://my-gatsby-site/./src/components/hover-text.js","webpack://my-gatsby-site/./src/pages/index.js"],"sourcesContent":["module.exports = function (element) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$tagName = _ref.tagName,\n      tagName = _ref$tagName === void 0 ? 'span' : _ref$tagName,\n      split = _ref.split,\n      _ref$setClassName = _ref.setClassName,\n      setClassName = _ref$setClassName === void 0 ? function (index) {\n    return 'char' + index;\n  } : _ref$setClassName;\n\n  element.normalize();\n  var index = 1;\n\n  function inject(element) {\n    var parentNode = element.parentNode;\n    var nodeValue = element.nodeValue;\n    var array = split ? split(nodeValue) : nodeValue.split('');\n    array.forEach(function (string) {\n      var node = document.createElement(tagName);\n      var className = setClassName(index++, string);\n\n      if (className) {\n        node.className = className;\n      }\n\n      node.appendChild(document.createTextNode(string));\n      node.setAttribute('aria-hidden', 'true');\n      parentNode.insertBefore(node, element);\n    });\n\n    if (nodeValue.trim() !== '') {\n      parentNode.setAttribute('aria-label', nodeValue);\n    }\n\n    parentNode.removeChild(element);\n  }\n\n  ;\n\n  (function traverse(element) {\n    // `element` is itself a text node\n    if (element.nodeType === 3) {\n      return inject(element);\n    } // `element` has a single child text node\n\n\n    var childNodes = Array.prototype.slice.call(element.childNodes); // static array of nodes\n\n    var length = childNodes.length;\n\n    if (length === 1 && childNodes[0].nodeType === 3) {\n      return inject(childNodes[0]);\n    } // `element` has more than one child node\n\n\n    childNodes.forEach(function (childNode) {\n      traverse(childNode);\n    });\n  })(element);\n};","import React, { useEffect, useRef } from 'react';\nimport gsap from 'gsap';\nimport { useMeasure, useMouse } from 'react-use';\nimport charming from 'charming';\nimport PropTypes from 'prop-types';\n\nimport { MathUtils, mergeRefs } from '../utils/utils';\n\nimport './hover-text.scss';\n\nlet randLetters = [];\nlet lettersTranslations = [];\nlet lettersRotations = [];\nlet lastY = 0;\nlet totalRandomLetters = 4;\n\nconst HoverText = ({ delay, text }) => {\n  const textRef = useRef();\n  // store the timeline in a ref.\n  const tl = useRef(gsap.timeline());\n  const { docX, docY } = useMouse(textRef);\n  const [ref, { left, top, height }] = useMeasure();\n  const direction = lastY - docY > 0 ? 'up' : 'down';\n\n  lastY = docY;\n\n  useEffect(() => {\n    charming(textRef.current);\n\n    const lettersTotal = textRef.current.children.length;\n\n    totalRandomLetters = totalRandomLetters <= lettersTotal ? totalRandomLetters : lettersTotal;\n    // The amount that they move (y-axis)\n    lettersTranslations = Array.from(\n      {\n        length: totalRandomLetters,\n      },\n      (_) => {\n        const tr = MathUtils.getRandomFloat(0, 10);\n        return [-tr, tr];\n      }\n    );\n    lettersRotations = Array.from(\n      {\n        length: totalRandomLetters,\n      },\n      (_) => {\n        const rr = MathUtils.getRandomFloat(0, 6);\n        return [-rr, rr];\n      }\n    );\n\n    tl.current\n      .set(textRef.current.children, {\n        scale: 0,\n        opacity: 0,\n        y: '100%',\n      })\n      .to(textRef.current.children, {\n        delay,\n        stagger: { each: 0.1 },\n        duration: 0.3,\n        scale: 1,\n        opacity: 1,\n        y: 0,\n        ease: 'power4.out',\n      });\n  }, [delay]);\n\n  const tilt = () => {\n    // Document scrolls\n    const docScrolls = {\n      left: document.body.scrollLeft + document.documentElement.scrollLeft,\n      top: document.body.scrollTop + document.documentElement.scrollTop,\n    };\n    // Mouse position relative to the main element (textRef)\n    const relMousePos = {\n      x: docX - left - docScrolls.left,\n      y: docY - top - docScrolls.top,\n    };\n\n    for (const [index, letter] of randLetters.entries()) {\n      gsap.to(letter, {\n        duration: 3,\n        ease: 'expo.out',\n        y: MathUtils.lineEq(lettersTranslations[index][1], lettersTranslations[index][0], height, 0, relMousePos.y),\n        rotation: MathUtils.lineEq(lettersRotations[index][1], lettersRotations[index][0], height, 0, relMousePos.y),\n      });\n    }\n  };\n\n  const resetTilt = () => {\n    tl.current\n      .to(randLetters, {\n        duration: 0.2,\n        ease: 'quad.out',\n        opacity: 0,\n        y: direction === 'up' ? '-=80%' : '+=80',\n        rotation: direction === 'up' ? '-=10' : '+=10',\n      })\n      .to(randLetters, {\n        stagger: 0.02,\n        overwrite: 'auto',\n        duration: MathUtils.getRandomFloat(0.5, 0.7),\n        ease: 'elastic.easeOut(1, 0.4)',\n        startAt: {\n          opacity: 0,\n          y: direction === 'up' ? '80%' : '-80%',\n        },\n        y: '0%',\n        rotation: 0,\n        opacity: 1,\n      });\n  };\n\n  const handleMouseEnter = () => {\n    const shuffled = gsap.utils.shuffle([...textRef.current.children]);\n    randLetters = shuffled.slice(0, totalRandomLetters);\n  };\n\n  const handleMouseMove = (e) => requestAnimationFrame(() => tilt(e));\n\n  return (\n    <a\n      onMouseLeave={resetTilt}\n      onMouseMove={handleMouseMove}\n      onMouseEnter={handleMouseEnter}\n      ref={mergeRefs([ref, textRef])}\n      className=\"hover-text charming-text absolute top-1/2 left-1/2 text-9xl font-bold -translate-x-1/2 -translate-y-1/2 whitespace-nowrap\"\n    >\n      {text}\n    </a>\n  );\n};\n\nHoverText.defaultProps = {\n  text: 'Hola Chacha',\n};\n\nHoverText.propTypes = {\n  text: PropTypes.string,\n  delay: PropTypes.number,\n};\n\nexport default HoverText;\n","import React from 'react';\n\nimport Layout from '../components/layout';\nimport HoverText from '../components/hover-text';\n\nimport './styles.scss';\n\nconst IndexPage = () => {\n  return (\n    <Layout>\n      <section className=\"w-full h-screen relative bg-slate-900\">\n        <HoverText delay={1} />\n        <h2 className=\"absolute left-4 bottom-4 text-white text-sm\">\n          Background inspired by{' '}\n          <a\n            href=\"https://tympanus.net/codrops/2022/01/12/pixel-distortion-effect-with-three-js/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Pixel Distortion Effect with Three.js\n          </a>\n        </h2>\n      </section>\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n"],"names":["module","exports","element","_ref","arguments","length","undefined","_ref$tagName","tagName","split","_ref$setClassName","setClassName","index","normalize","inject","parentNode","nodeValue","forEach","string","node","document","createElement","className","appendChild","createTextNode","setAttribute","insertBefore","trim","removeChild","traverse","nodeType","childNodes","Array","prototype","slice","call","childNode","randLetters","lettersTranslations","lettersRotations","lastY","totalRandomLetters","HoverText","delay","text","textRef","useRef","tl","gsap","useMouse","docX","docY","useMeasure","ref","left","top","height","direction","useEffect","charming","current","lettersTotal","children","from","_","tr","MathUtils","rr","set","scale","opacity","y","to","stagger","each","duration","ease","onMouseLeave","rotation","overwrite","startAt","onMouseMove","e","requestAnimationFrame","docScrolls","body","scrollLeft","documentElement","scrollTop","relMousePos","x","entries","letter","tilt","onMouseEnter","shuffled","mergeRefs","defaultProps","href","target","rel"],"sourceRoot":""}